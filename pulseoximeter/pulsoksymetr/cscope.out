cscope 15 $HOME/arm/sample_project               0000005640
	@lib/MyLib/inc/STM32_CoreInit.h

9 #iâdeà
STM32_INIT_H_


10 
	#STM32_INIT_H_


	)

15 
STM32_CÜeIn™
();

20 
STM32_ClockIn™
();

	@lib/MyLib/inc/STM32_Delay.h

9 #iâdeà
STM32_DELAY_H_


10 
	#STM32_DELAY_H_


	)

12 
D–ay
();

	@lib/MyLib/inc/STM32_PeriphInit.h

8 #iâdeà
STM32_PERIPHINIT_H_


9 
	#STM32_PERIPHINIT_H_


	)

11 
	~"¡m32f10x_rcc.h
"

12 
	~"¡m32f10x_gpio.h
"

13 
	~"¡m32f10x_u§¹.h
"

14 
	~"¡m32f10x_adc.h
"

18 
STM32_P”hIn™
();

24 
STM32_GPIOIn™
();

30 
STM32_USARTIn™
();

36 
STM32_ADCIn™
();

	@lib/MyLib/src/STM32_CoreInit.c

8 
	~"STM32_CÜeIn™.h
"

9 
	~"¡m32f10x_rcc.h
"

16 
	$STM32_CÜeIn™
(){

19 
	`STM32_ClockIn™
();

20 
	}
}

30 
	$STM32_ClockIn™
(){

33 
	`RCC_DeIn™
();

36 
	`RCC_HSECÚfig
(
RCC_HSE_ON
);

39 if(
	`RCC_Wa™FÜHSES¹Up
()==
SUCCESS
){

42 
	`RCC_PLLCÚfig
(
RCC_PLLSourû_PREDIV1
, 
RCC_PLLMul_4
);

44 
	`RCC_PREDIV1CÚfig
(
RCC_PREDIV1_Sourû_HSE
, 
RCC_PREDIV1_Div2
);

46 
	`RCC_PLLCmd
(
ENABLE
);

49 
	`RCC_G‘FÏgStus
(
RCC_FLAG_PLLRDY
)==
RESET
);

52 
	`RCC_HCLKCÚfig
(
RCC_SYSCLK_Div2
);

54 
	`RCC_PCLK1CÚfig
(
RCC_HCLK_Div2
);

56 
	`RCC_PCLK2CÚfig
(
RCC_HCLK_Div1
);

59 
	`RCC_SYSCLKCÚfig
(
RCC_SYSCLKSourû_PLLCLK
);

62 
	`RCC_G‘SYSCLKSourû
()!=0x08);

72 
	}
}

	@lib/MyLib/src/STM32_Delay.c

9 
	~"STM32_D–ay.h
"

11 
	$D–ay
(){

12 
út
=0;

13 
út
=0;cnt<0xFFF;cnt++);

14 
	}
}

	@lib/MyLib/src/STM32_PeriphInit.c

9 
	~"STM32_P”hIn™.h
"

17 
	$STM32_P”hIn™
(){

20 
	`STM32_GPIOIn™
();

22 
	`STM32_USARTIn™
();

24 
	`STM32_ADCIn™
();

25 
	}
}

33 
	$STM32_GPIOIn™
(){

36 
	`RCC_APB2P”hClockCmd
(
RCC_APB2P”h_GPIOA
|
RCC_APB2P”h_GPIOC
|
RCC_APB2P”h_GPIOD
|
RCC_APB2P”h_GPIOB
, 
ENABLE
);

39 
GPIO_In™Ty³Def
 
GPIO_In™SŒuùu»
;

41 
GPIO_In™SŒuùu»
.
GPIO_Pš
=
GPIO_Pš_AÎ
;

42 
GPIO_In™SŒuùu»
.
GPIO_S³ed
=
GPIO_S³ed_50MHz
;

43 
GPIO_In™SŒuùu»
.
GPIO_Mode
=
GPIO_Mode_Out_PP
;

46 
	`GPIO_In™
(
GPIOD
, &
GPIO_In™SŒuùu»
);

47 
	}
}

58 
	$STM32_USARTIn™
(){

61 
	`RCC_APB2P”hClockCmd
(
RCC_APB2P”h_USART1
, 
ENABLE
);

64 
USART_In™Ty³Def
 
USART_In™SŒuùu»
;

66 
USART_In™SŒuùu»
.
USART_BaudR©e
=9600;

67 
USART_In™SŒuùu»
.
USART_WÜdL’gth
=
USART_WÜdL’gth_9b
;

68 
USART_In™SŒuùu»
.
USART_StİB™s
=
USART_StİB™s_1
;

69 
USART_In™SŒuùu»
.
USART_P¬™y
=
USART_P¬™y_Ev’
;

70 
USART_In™SŒuùu»
.
USART_Mode
=
USART_Mode_Tx
;

71 
USART_In™SŒuùu»
.
USART_H¬dw¬eFlowCÚŒŞ
=
USART_H¬dw¬eFlowCÚŒŞ_NÚe
;

74 
	`USART_In™
(
USART1
,&
USART_In™SŒuùu»
);

79 
GPIO_In™Ty³Def
 
GPIO_In™SŒuùu»
;

81 
GPIO_In™SŒuùu»
.
GPIO_Pš
=
GPIO_Pš_9
;

82 
GPIO_In™SŒuùu»
.
GPIO_S³ed
=
GPIO_S³ed_50MHz
;

83 
GPIO_In™SŒuùu»
.
GPIO_Mode
=
GPIO_Mode_AF_PP
;

86 
	`GPIO_In™
(
GPIOA
, &
GPIO_In™SŒuùu»
);

89 
	`USART_Cmd
(
USART1
, 
ENABLE
);

90 
	}
}

98 
	$STM32_ADCIn™
(){

101 
	`RCC_APB2P”hClockCmd
(
RCC_APB2P”h_ADC1
,
ENABLE
);

104 
	`RCC_ADCCLKCÚfig
(
RCC_PCLK2_Div8
);

107 
ADC_In™Ty³Def
 
ADC_In™SŒuùu»
;

109 
ADC_In™SŒuùu»
.
ADC_Mode
=
ADC_Mode_Ind•’d’t
;

110 
ADC_In™SŒuùu»
.
ADC_SÿnCÚvMode
=
DISABLE
;

111 
ADC_In™SŒuùu»
.
ADC_CÚtšuousCÚvMode
=
DISABLE
;

112 
ADC_In™SŒuùu»
.
ADC_Ex‹º®TrigCÚv
=
ADC_Ex‹º®TrigCÚv_NÚe
;

113 
ADC_In™SŒuùu»
.
ADC_D©aAlign
=
ADC_D©aAlign_Right
;

114 
ADC_In™SŒuùu»
.
ADC_NbrOfChªÃl
=1;

118 
	`ADC_In™
(
ADC1
,&
ADC_In™SŒuùu»
);

121 
	`ADC_ReguÏrChªÃlCÚfig
(
ADC1
,
ADC_ChªÃl_8
,1,
ADC_Sam¶eTime_1Cyşes5
);

124 
GPIO_In™Ty³Def
 
GPIO_In™SŒuùu»
;

126 
GPIO_In™SŒuùu»
.
GPIO_Pš
=
GPIO_Pš_0
;

127 
GPIO_In™SŒuùu»
.
GPIO_S³ed
=
GPIO_S³ed_10MHz
;

128 
GPIO_In™SŒuùu»
.
GPIO_Mode
=
GPIO_Mode_AIN
;

130 
	`GPIO_In™
(
GPIOB
,&
GPIO_In™SŒuùu»
);

133 
	`ADC_Cmd
(
ADC1
,
ENABLE
);

134 
	}
}

	@user/main.c

8 
	~"¡m32f10x.h
"

9 
	~"STM32_CÜeIn™.h
"

10 
	~"STM32_P”hIn™.h
"

11 
	~"STM32_D–ay.h
"

14 
	$maš
(){

16 
ušt16_t
 
d©a
;

19 
	`STM32_CÜeIn™
();

20 
	`STM32_P”hIn™
();

26 
	`GPIO_Wr™e
(
GPIOA
, 0xFFFF);

27 
	`GPIO_Wr™e
(
GPIOB
, 0xFFFF);

28 
	`GPIO_Wr™e
(
GPIOC
, 0xFFFF);

29 
	`GPIO_Wr™e
(
GPIOD
, 0xFFFF);

32 
	`ADC_Soáw¬eS¹CÚvCmd
(
ADC1
, 
ENABLE
);

35 
	`ADC_G‘FÏgStus
(
ADC1
, 
ADC_FLAG_EOC
è=ğ
RESET
);

38 
d©a
=
	`ADC_G‘CÚv”siÚV®ue
(
ADC1
);

41 
	`USART_G‘FÏgStus
(
USART1
,
USART_FLAG_TXE
)==
RESET
);

44 
	`USART_S’dD©a
(
USART1
,(
ušt8_t
)(
d©a
&0x00FF));

45 
	`D–ay
();

47 
	`USART_G‘FÏgStus
(
USART1
,
USART_FLAG_TXE
)==
RESET
);

48 
	`D–ay
();

50 
	`USART_S’dD©a
(
USART1
,(
ušt8_t
)((
d©a
>>8)&0x000F));

52 
	}
}

	@user/stm32f10x_conf.h

23 #iâdeà
__STM32F10x_CONF_H


24 
	#__STM32F10x_CONF_H


	)

39 
	~"¡m32f10x_gpio.h
"

42 
	~"¡m32f10x_pwr.h
"

43 
	~"¡m32f10x_rcc.h
"

48 
	~"¡m32f10x_u§¹.h
"

50 
	~"misc.h
"

59 #ifdeà 
USE_FULL_ASSERT


68 
	#as£¹_·¿m
(
ex´
è(Óx´è? ()0 : 
	`as£¹_çed
((
ušt8_t
 *)
__FILE__
, 
__LINE__
))

	)

70 
as£¹_çed
(
ušt8_t
* 
fe
, 
ušt32_t
 
lše
);

72 
	#as£¹_·¿m
(
ex´
è(()0)

	)

	@user/stm32f10x_it.c

25 
	~"¡m32f10x_™.h
"

47 
	$NMI_HªdËr
()

49 
	}
}

56 
	$H¬dFauÉ_HªdËr
()

62 
	}
}

69 
	$MemMªage_HªdËr
()

75 
	}
}

82 
	$BusFauÉ_HªdËr
()

88 
	}
}

95 
	$U§geFauÉ_HªdËr
()

101 
	}
}

108 
	$SVC_HªdËr
()

110 
	}
}

117 
	$DebugMÚ_HªdËr
()

119 
	}
}

126 
	$P’dSV_HªdËr
()

128 
	}
}

135 
	$SysTick_HªdËr
()

137 
	}
}

	@user/stm32f10x_it.h

23 #iâdeà
__STM32F10x_IT_H


24 
	#__STM32F10x_IT_H


	)

26 #ifdeà
__ılu¥lus


31 
	~"¡m32f10x.h
"

38 
NMI_HªdËr
();

39 
H¬dFauÉ_HªdËr
();

40 
MemMªage_HªdËr
();

41 
BusFauÉ_HªdËr
();

42 
U§geFauÉ_HªdËr
();

43 
SVC_HªdËr
();

44 
DebugMÚ_HªdËr
();

45 
P’dSV_HªdËr
();

46 
SysTick_HªdËr
();

48 #ifdeà
__ılu¥lus


	@
1
.
1
/usr/include
10
258
lib/MyLib/inc/STM32_CoreInit.h
lib/MyLib/inc/STM32_Delay.h
lib/MyLib/inc/STM32_PeriphInit.h
lib/MyLib/src/STM32_CoreInit.c
lib/MyLib/src/STM32_Delay.c
lib/MyLib/src/STM32_PeriphInit.c
user/main.c
user/stm32f10x_conf.h
user/stm32f10x_it.c
user/stm32f10x_it.h
